{
	"type": "QUERY_TEST",
	"label": "PSM_EXPORT Test",
	"expectedCsv": "tests/query/PSM_EXPORT/expected.csv",
	"query": 
	{
		"type": "PSM_FORM_QUERY",
		"group": {
			"type": "RELATIVE_FORM_QUERY",
			"featureQuery": {
				"type": "FORM_QUERY",
				"includedEntities": {
					"0": [
						{"dateRange":"2000-01-01/2002-12-31", "eventDate":"2001-01-01"},
						{"dateRange":"2000-01-01/2000-12-31", "index": 0, "eventDate":"2001-01-01"},
						{"dateRange":"2001-01-01/2001-12-31", "index": 1, "eventDate":"2001-01-01"},
						{"dateRange":"2002-01-01/2002-12-31", "index": 2, "eventDate":"2001-01-01"}
					]
				},
				"root": {
					"type": "CONCEPT",
					"ids": [
					  "${dataset}.test_tree.test_child1"
					],
					"selects": ["${dataset}.test_tree.exists"],
					"tables": [
						{
						  "id": "${dataset}.test_tree.test_column",
						   "filters": []
						}
					]
				}
			},
			"outcomeQuery":{
				"type": "FORM_QUERY",
				"includedEntities": {
					"0": [
						{"dateRange":"2000-01-01/2002-12-31", "eventDate":"2001-01-01"},
						{"dateRange":"2000-01-01/2000-12-31", "index": 0, "eventDate":"2001-01-01"},
						{"dateRange":"2001-01-01/2001-12-31", "index": 1, "eventDate":"2001-01-01"},
						{"dateRange":"2002-01-01/2002-12-31", "index": 2, "eventDate":"2001-01-01"}
					]
				},
				"root": {
					"type": "CONCEPT",
					"ids": [
					  "${dataset}.test_tree.test_child1"
					],
					"selects": ["${dataset}.test_tree.exists"],
					"tables": [
						{
						  "id": "${dataset}.test_tree.test_column",
						   "filters": []
						}
					]
				}
			}
		},
		"constant": true
	},
	"concepts": [
		{
			"label": "test_tree",
			"type":"TREE",
			"connectors": {
			  "label": "tree_label",
			  "name": "test_column",
			  "column": "test_table.test_column",
			  "validityDates": {"label": "datum" ,"column": "test_table.datum"}
			},
			"selects": [
				{
					"type": "EXISTS",
					"name": "exists"
				}
			],
			"children": [
				{
					"label": "test_child1",
					"description": " ",
					"condition": {"type": "PREFIX_LIST", "prefixes": "A1"},
					"children": []
				},
				{
					"label": "test_child2",
					"description": " ",
					"condition": {"type": "PREFIX_LIST", "prefixes": "B2"},
					"children": []
				}
			]
		}
	],
	"content": {
		"tables": [
			{
				"csv": "tests/query/PSM_EXPORT/content.csv",
				"name": "test_table",
				"primaryColumn" : {
					"name": "pid",
					"type": "STRING"
				},
				"columns": [
					{
						"name": "datum",
						"type": "DATE"
					},
					{
						"name": "test_column",
						"type": "STRING"
					}
				]
			}
		]
	}
}
