{
    "type": "STATSTIC_FORM_TEST",
    "label": "SIMPLE REL-DESC-FORM Test",
    "expectedCsv": "eva-tests/form/DESCRIPTIVE_FORM/RELATIVE/expected.csv",
    "expectedDescription": "eva-tests/form/DESCRIPTIVE_FORM/RELATIVE/expected_description.json",
    "form": {
        "type": "DESCRIPTION_FORM_RELATIVE_TIME",
        "resolution": "COMPLETE_ONLY",
        "queryGroup": {
            "id": "${dataset}.00000000-0000-0000-0000-000000000001",
            "timestamp": "FIRST"
        },
        "features": [
            {
                "type": "OR",
                "children": [
                    {
                        "ids": [
                            "${dataset}.alter"
                        ],
                        "type": "CONCEPT",
                        "label": "Alter",
                        "tables": [
                            {
                                "id": "${dataset}.alter.alter",
                                "filters": []
                            }
                        ]
                    }
                ]
            }
        ],
        "outcomes": [
            {
            "type": "OR",
                "children": [
                    {
                        "ids": [
                            "${dataset}.alter"
                        ],
                        "type": "CONCEPT",
                        "label": "Alter",
                        "tables": [
                            {
                                "id": "${dataset}.alter.alter",
                                "filters": []
                            }
                        ]
                    }
                ]
            }
        ],
        "timeCountAfter" : 4,
        "timeCountBefore" : 4,
        "indexDate" : "BEFORE",
        "title": "test",
        "description": "Beschreibung"
    },
    "concepts": [
        {
            "type" : "VIRTUAL",
            "name" : "alter",
            "label" : "Alter",
            "hidden" : false,
            "connectors" : [
                {
                    "name" : "alter",
                    "label" : "Alter",
                    "validityDates" : [
                        {
                            "name" : "versichertenzeit",
                            "label" : "Versichertenzeit",
                            "column" : "vers_stamm.date"
                        },
                        {
                            "name" : "erster_tag",
                            "label" : "Erster Tag",
                            "column" : "vers_stamm.date_start"
                        },
                        {
                            "name" : "letzter_tag",
                            "label" : "Letzter Tag",
                            "column" : "vers_stamm.date_end"
                        }
                    ],
                    "selects" : [
                        {
                            "type" : "FIRST",
                            "column" : "vers_stamm.geburtsdatum",
                            "name" : "alterseinschränkung_select",
                            "label" : "Alterseinschränkung_select",
                            "description" : "Automatisch erzeugter Zusatzwert.",
                            "default" : true
                        }
                    ],
                    "table" : "vers_stamm",
                    "filter" : {
                        "type" : "DATE_DISTANCE",
                        "name" : "alterseinschränkung",
                        "label" : "Alterseinschränkung",
                        "description" : "Alter zur gegebenen Datumseinschränkung",
                        "column" : "vers_stamm.geburtsdatum",
                        "timeUnit" : "YEARS"
                    }
                }
            ]
        },
        {
            "type" : "VIRTUAL",
            "name" : "geschlecht",
            "label" : "Geschlecht",
            "hidden" : false,
            "connectors" : [
                {
                    "name" : "geschlecht",
                    "label" : "Geschlecht",
                    "validityDates" : [
                        {
                            "name" : "versichertenzeit",
                            "label" : "Versichertenzeit",
                            "column" : "vers_stamm.date"
                        },
                        {
                            "name" : "erster_tag",
                            "label" : "Erster Tag",
                            "column" : "vers_stamm.date_start"
                        },
                        {
                            "name" : "letzter_tag",
                            "label" : "Letzter Tag",
                            "column" : "vers_stamm.date_end"
                        }
                    ],
                    "table" : "vers_stamm",
                    "filter" : {
                        "type" : "SELECT",
                        "name" : "geschlecht",
                        "label" : "Geschlecht",
                        "column" : "vers_stamm.geschlecht",
                        "labels" : {
                            "1" : "Weiblich",
                            "2" : "Männlich"
                        },
                        "matchLabels" : false
                    }
                }
            ],
            "selects" : [
                {
                    "type" : "FIRST",
                    "column" : "vers_stamm.geschlecht",
                    "name" : "geschlecht_select",
                    "label" : "Geschlecht_select",
                    "description" : "Automatisch erzeugter Zusatzwert.",
                    "default" : true
                }
            ]
        },
		{
            "type" : "VIRTUAL",
            "name" : "versichertentage",
            "label" : "Versichertentage",
            "hidden" : false,
            "connectors" : [
                {
                    "name" : "versichertentage",
                    "label" : "Versichertentage",
                    "validityDates" : [
                        {
                            "name" : "datum",
                            "label" : "Datum",
                            "column" : "vers_tage_range.date"
                        }
                    ],
                    "selects" : [
                        {
                            "type" : "DURATION_SUM",
                            "column" : "vers_tage_range.date",
                            "name" : "versichertentage_select",
                            "label" : "Versichertentage_select",
                            "description" : "Automatisch erzeugter Zusatzwert.",
                            "default" : true
                        }
                    ],
                    "table" : "vers_tage_range",
                    "filter" : {
                        "type" : "DURATION_SUM",
                        "name" : "versichertentage",
                        "label" : "Versichertentage",
                        "unit" : "Tage",
                        "description" : "Versichertentage",
                        "column" : "vers_tage_range.date"
                    }
                }
            ]
        }
        
    ],
    "content": {
        "tables": [
            {
                "csv": "eva-tests/form/DESCRIPTIVE_FORM/RELATIVE/ver_stamm.csv",
                "name" : "vers_stamm",
                "primaryColumn" : {
                    "name" : "pid",
                    "type" : "STRING"
                },
                "columns" : [
                    {
                        "name" : "date",
                        "type" : "DATE_RANGE"
                    },
                    {
                        "name" : "dayType",
                        "type" : "STRING"
                    },
                    {
                        "name" : "date_start",
                        "type" : "DATE"
                    },
                    {
                        "name" : "date_end",
                        "type" : "DATE"
                    },
                    {
                        "name" : "bezugsjahr",
                        "type" : "INTEGER"
                    },
                    {
                        "name" : "geburtsdatum",
                        "type" : "DATE"
                    },
                    {
                        "name" : "export_geburtsdatum",
                        "type" : "STRING"
                    },
                    {
                        "name" : "geschlecht",
                        "type" : "STRING"
                    },
                    {
                        "name" : "sterbedatum",
                        "type" : "DATE"
                    },
                    {
                        "name" : "quell_ref",
                        "type" : "INTEGER"
                    },
                    {
                        "name" : "fehler_code",
                        "type" : "INTEGER"
                    },
                    {
                        "name" : "flag_analyse",
                        "type" : "INTEGER"
                    },
                    {
                        "name" : "flag_destatis",
                        "type" : "INTEGER"
                    },
                    {
                        "name" : "flag_demo",
                        "type" : "INTEGER"
                    },
                    {
                        "name" : "pid_hash",
                        "type" : "STRING"
                    }
                ]
            },
			{
				"csv": "eva-tests/form/DESCRIPTIVE_FORM/RELATIVE/versicherten_tage.csv",
				"name" : "vers_tage_range",
                "primaryColumn" : {
                    "name" : "pid",
                    "type" : "STRING"
                },
                "columns" : [
                    {
                        "name" : "date",
                        "type" : "DATE_RANGE"
                    }
                ]
			}
        ],
        "previousQueryResults": [
            "eva-tests/form/DESCRIPTIVE_FORM/RELATIVE/query_results_1.csv"
        ]
    }
}